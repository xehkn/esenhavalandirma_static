(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[52],{2757:(e,s,a)=>{"use strict";a.d(s,{N:()=>l});let l=(0,a(851).UU)("https://sganqzgxkqtdsoqhbgtz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNnYW5xemd4a3F0ZHNvcWhiZ3R6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU1Mjc4OTYsImV4cCI6MjA2MTEwMzg5Nn0.pasTG6gWG-sC486dVktHqtuyEWsmbo0FfqzSWAAherA")},3421:(e,s,a)=>{Promise.resolve().then(a.bind(a,8487))},8487:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var l=a(5155),r=a(9911),t=a(1013),i=a(710),c=a(2115),n=a(2757);let d=async()=>{try{let{data:e,error:s}=await n.N.from("references").select("*");if(s)throw s;return e||[]}catch(e){return console.error("Veri \xe7ekme hatası:",e.message),[]}},o=async e=>{if(!e)return null;let{data:s,error:a}=await n.N.from("references-details").select("referenceId,logo");if(a)throw a;return s||null},m=async e=>{if(!e)return null;let{data:s,error:a}=await n.N.from("references-details").select("*").eq("referenceId",e);if(a)throw a;return s||[]};var x=a(6072);function h(){let[e,s]=(0,c.useState)(null),[a,n]=(0,c.useState)(!1),{data:h,error:f,isLoading:u}=(0,x.Ay)("reference",d),{data:j,errorLogo:p,isLoadingLogo:v}=(0,x.Ay)("companiesLogos",o);function N(e){let{logo:s,onSelectCompany:a}=e;return(0,l.jsx)("div",{className:"flex items-center justify-start gap-x-8 overflow-x-auto scrollbar-hide min-w-fit pb-4 md:pb-0",children:(0,l.jsx)("div",{className:"h-[60px] md:h-[100px] aspect-square cursor-pointer relative",onClick:a,children:(0,l.jsx)("img",{className:"absolute h-full w-full z-50",src:s,alt:""})})})}function g(e){let{image:s,title:a,comment:t,rating:c,dateYear:n,dateMonth:d,company:o}=e;return(0,l.jsx)("div",{className:"bg-[var(--surface)] rounded-xl shadow-md overflow-hidden shadow-[var(--card-shadow)] w-full",children:(0,l.jsxs)("div",{className:"p-4 flex flex-col gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[s?(0,l.jsx)("img",{src:s,alt:a,className:"w-16 h-16 object-cover rounded-full"}):(0,l.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",children:(0,l.jsx)(i.UdD,{className:"w-full h-2/3 fill-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-1.5",children:[(0,l.jsx)("span",{children:a})," /",(0,l.jsx)("span",{className:"text-[var(--secondary-100)] text-sm",children:o})]}),(0,l.jsx)("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsx)(r.gt3,{className:"w-4 h-4 ".concat(s<c?"fill-[var(--star-fill)]":"fill-gray-500")},s))})]})]}),(0,l.jsx)("p",{className:"text-[var(--text-secondary)] text-sm",children:t}),(0,l.jsxs)("span",{className:"text-xs text-[var(--text-secondary)] self-end",children:[d," ",n]})]})})}if(f||p)return null;if(u||v)return(0,l.jsx)("div",{children:"Y\xfckleniyor..."});let y=e=>{s(e),n(!0)};return(0,l.jsxs)("div",{className:"h-fit max-w-7xl w-full px-4",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center py-10 md:py-20 gap-6 md:gap-10",children:[(0,l.jsx)("div",{className:"upper-side w-fit mx-auto",children:(0,l.jsx)("h1",{className:"text-[var(--secondary-100)] md:text-4xl text-2xl xs:text-3xl font-bold break-all text-center",children:"Referanslarımız"})}),(0,l.jsx)("div",{className:"flex gap-8",children:null==j?void 0:j.map((e,s)=>(0,l.jsx)(N,{logo:e.logo,onSelectCompany:()=>y(e)},s))}),(0,l.jsxs)("div",{className:"mt-4 md:mt-10",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-[var(--secondary-100)] mb-6",children:"M\xfcşteri Yorumları"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-4",children:null==h?void 0:h.map(e=>(0,l.jsx)(g,{image:e.imageLink,title:e.fullname,comment:e.comment,rating:e.rating,dateMonth:e.dateMonth,dateYear:e.dateYear,company:e.company},e.id))})]})]}),(0,l.jsx)(function(e){let{selectedCompany:i}=e,{data:c,isLoading:d}=(0,x.Ay)(i?"reference-details-".concat(i.referenceId):null,()=>m(i.referenceId));if(d&&!c)return(0,l.jsx)("div",{children:"Y\xfckleniyor..."});let o=()=>{n(!1),s(null)};return a&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsx)("div",{className:"bg-[var(--surface)] rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:null==c?void 0:c.map((e,s)=>(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 relative",children:[e.logo&&(0,l.jsx)("img",{src:e.logo,alt:"".concat(e.company," logo"),className:"w-16 h-16 object-contain"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold",children:e.projectType}),(0,l.jsx)("p",{className:"text-[var(--secondary-100)]",children:e.companyName})]}),(0,l.jsx)("div",{className:"absolute right-0 top-2 cursor-pointer",onClick:o,children:(0,l.jsx)(t.LyW,{size:28})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Referans Pozisyonu:"}),(0,l.jsx)("p",{className:"text-[var(--secondary-100)]",children:e.referencePosition})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Referans Adı:"}),(0,l.jsx)("p",{className:"text-[var(--secondary-100)]",children:e.referenceName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Proje B\xfcy\xfckl\xfcğ\xfc:"}),(0,l.jsx)("p",{className:"text-[var(--secondary-100)]",children:e.projectSize})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Tamamlanma Tarihi:"}),(0,l.jsx)("p",{className:"text-[var(--secondary-100)]",children:e.completionDate})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"S\xfcre:"}),(0,l.jsx)("p",{className:"text-[var(--secondary-100)]",children:e.duration})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Değerlendirme:"}),(0,l.jsx)("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((s,a)=>(0,l.jsx)(r.gt3,{className:"text-xl ".concat(a<e.rating?"text-[var(--star-fill)]":"text-gray-300")},a))})]})]})]},s))})})},{selectedCompany:e})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[711,512,603,513,441,684,358],()=>s(3421)),_N_E=e.O()}]);